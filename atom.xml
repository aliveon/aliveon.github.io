<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>放逐，天涯路</title>
  <subtitle>永恒的心，经年的梦，前行的路，执念一生</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://aresLove.github.io/"/>
  <updated>2017-03-05T14:11:30.323Z</updated>
  <id>http://aresLove.github.io/</id>
  
  <author>
    <name>ares</name>
    <email>yangtaocommon@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>常用命令总结</title>
    <link href="http://aresLove.github.io/%E6%97%A5%E5%B8%B8%E6%80%BB%E7%BB%93/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <id>http://aresLove.github.io/日常总结/常用命令/</id>
    <published>2017-03-05T14:11:30.323Z</published>
    <updated>2017-03-05T14:11:30.323Z</updated>
    
    <content type="html">&lt;h2 id=&quot;网络异常&quot;&gt;&lt;a href=&quot;#网络异常&quot; class=&quot;headerlink&quot; title=&quot;网络异常&quot;&gt;&lt;/a&gt;网络异常&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;常用方法排查&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;判定网络是否可达   &lt;code&gt;ping www.baidu.com&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;跟踪路由：判断网络节点是否畅通  &lt;code&gt;tracert -d www.baidu.com&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;用telnet命令来测试端口号是否正常打开还是关闭状态   &lt;code&gt;telnet dev.u.hd123.com 2182&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;dns 解析(本地 hosts 配置：C:\Windows\System32\drivers\etc)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;刷新DNS缓存 &lt;code&gt;ipconfig /flushdns&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&quot;进程处理&quot;&gt;&lt;a href=&quot;#进程处理&quot; class=&quot;headerlink&quot; title=&quot;进程处理&quot;&gt;&lt;/a&gt;进程处理&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;端口占用  &lt;ul&gt;
&lt;li&gt;查看所有的端口占用情况  &lt;code&gt;netstat -ano&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;查看指定端口占用情况   &lt;code&gt;netstat -anno | findstr &amp;quot;端口号&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;查看PID对应的进程  &lt;code&gt;tasklist|findstr &amp;quot;进程号&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;终止一个进程   &lt;code&gt;taskkill /pid 进程号&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;强行终止进程   &lt;code&gt;taskkill /f /pid 进程号&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&quot;常用windows命令&quot;&gt;&lt;a href=&quot;#常用windows命令&quot; class=&quot;headerlink&quot; title=&quot;常用windows命令&quot;&gt;&lt;/a&gt;常用windows命令&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;cd &lt;code&gt;cd /d target_url&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;cls &lt;code&gt;cls&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&quot;常用linux命令&quot;&gt;&lt;a href=&quot;#常用linux命令&quot; class=&quot;headerlink&quot; title=&quot;常用linux命令&quot;&gt;&lt;/a&gt;常用linux命令&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;ls/ll &lt;/p&gt;
&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;ls&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;ls&lt;/span&gt; -rlth&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;ll&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;ll&lt;/span&gt; -rlth&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;cat&lt;/p&gt;
&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;file&lt;/span&gt; | &lt;span class=&quot;keyword&quot;&gt;grep&lt;/span&gt; -C lines &lt;span class=&quot;string&quot;&gt;&quot;key&quot;&lt;/span&gt; | less&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;其中，&lt;span class=&quot;keyword&quot;&gt;grep&lt;/span&gt; -C lines 标识关键字上下多少行&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&quot;常用快捷键&quot;&gt;&lt;a href=&quot;#常用快捷键&quot; class=&quot;headerlink&quot; title=&quot;常用快捷键&quot;&gt;&lt;/a&gt;常用快捷键&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;关闭窗口 &lt;code&gt;ctrl+w、ctrl+F4&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;关机&lt;code&gt;alt+F4&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;快速切换&lt;code&gt;alt+tab/ctrl+tab&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;快速锁机&lt;code&gt;win+l&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&quot;hexo&quot;&gt;&lt;a href=&quot;#hexo&quot; class=&quot;headerlink&quot; title=&quot;hexo&quot;&gt;&lt;/a&gt;hexo&lt;/h2&gt;&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;title&quot;&gt;hexo&lt;/span&gt; clean&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hexo g -&lt;span class=&quot;built_in&quot;&gt;debug&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hexo s -&lt;span class=&quot;built_in&quot;&gt;debug&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hexo d&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h2 id=&quot;curl&quot;&gt;&lt;a href=&quot;#curl&quot; class=&quot;headerlink&quot; title=&quot;curl&quot;&gt;&lt;/a&gt;curl&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;post&lt;br&gt;&lt;code&gt;curl -u user:password -H &amp;quot;Content-Type: application/json;charset=UTF-8&amp;quot; -X POST -d &amp;#39;{JSON}&amp;#39;  URL&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;get&lt;br&gt;&lt;code&gt;curl -u user:password URL&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&quot;docker&quot;&gt;&lt;a href=&quot;#docker&quot; class=&quot;headerlink&quot; title=&quot;docker&quot;&gt;&lt;/a&gt;docker&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;运行容器&lt;/p&gt;
&lt;figure class=&quot;highlight haml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;docker run&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-&lt;span class=&quot;ruby&quot;&gt;i -t  创建交互式容器&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;-&lt;span class=&quot;ruby&quot;&gt;d 创建守护式容器&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;-&lt;span class=&quot;ruby&quot;&gt;-name 为容器指定一个名称&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;查看运行的容器  &lt;/p&gt;
&lt;figure class=&quot;highlight haml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;docker ps&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-&lt;span class=&quot;ruby&quot;&gt;a 查看所有容器运行状态&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;docker inspect 查看容器的详细信息&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;停止一个守护式容器 &lt;code&gt;docker stop&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;删除容器&lt;code&gt;docker rm&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;进入容器&lt;/p&gt;
&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;docker exec -&lt;span class=&quot;keyword&quot;&gt;it&lt;/span&gt; container_name /bin/bash&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;exit&lt;/span&gt; 退出容器&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;结束容器  &lt;code&gt;exit container_name&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;查看镜像&lt;figure class=&quot;highlight 1c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;docker images &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;docker images &lt;span class=&quot;string&quot;&gt;| grep some_key&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;git&quot;&gt;&lt;a href=&quot;#git&quot; class=&quot;headerlink&quot; title=&quot;git&quot;&gt;&lt;/a&gt;git&lt;/h2&gt;&lt;figure class=&quot;highlight crmsh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git &lt;span class=&quot;keyword&quot;&gt;clone&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;-b&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;master&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;responsitory_url&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git status&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git add --all&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git commit -a -m &lt;span class=&quot;string&quot;&gt;&quot;commet&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git push/git push origin &lt;span class=&quot;literal&quot;&gt;master&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      日常常用命令总结
    
    </summary>
    
      <category term="日常总结" scheme="http://aresLove.github.io/categories/%E6%97%A5%E5%B8%B8%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="常用命令" scheme="http://aresLove.github.io/tags/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    
      <category term="日常总结" scheme="http://aresLove.github.io/tags/%E6%97%A5%E5%B8%B8%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>分布式框架 Dubbox 学习</title>
    <link href="http://aresLove.github.io/java/%E5%88%86%E5%B8%83%E5%BC%8F%E6%A1%86%E6%9E%B6-Dubbox%E5%AD%A6%E4%B9%A0/"/>
    <id>http://aresLove.github.io/java/分布式框架-Dubbox学习/</id>
    <published>2017-02-19T09:34:19.575Z</published>
    <updated>2017-02-19T09:34:19.575Z</updated>
    
    <content type="html"></content>
    
    <summary type="html">
    
      java
    
    </summary>
    
      <category term="java" scheme="http://aresLove.github.io/categories/java/"/>
    
    
      <category term="SOA" scheme="http://aresLove.github.io/tags/SOA/"/>
    
      <category term="java" scheme="http://aresLove.github.io/tags/java/"/>
    
      <category term="后端" scheme="http://aresLove.github.io/tags/%E5%90%8E%E7%AB%AF/"/>
    
      <category term="框架学习" scheme="http://aresLove.github.io/tags/%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>java 基础</title>
    <link href="http://aresLove.github.io/java/java%E5%9F%BA%E7%A1%80/"/>
    <id>http://aresLove.github.io/java/java基础/</id>
    <published>2017-02-19T09:34:19.574Z</published>
    <updated>2017-02-19T09:34:19.574Z</updated>
    
    <content type="html">&lt;h1 id=&quot;java基础学习笔记&quot;&gt;&lt;a href=&quot;#java基础学习笔记&quot; class=&quot;headerlink&quot; title=&quot;java基础学习笔记&quot;&gt;&lt;/a&gt;java基础学习笔记&lt;/h1&gt;&lt;h2 id=&quot;基础知识&quot;&gt;&lt;a href=&quot;#基础知识&quot; class=&quot;headerlink&quot; title=&quot;基础知识&quot;&gt;&lt;/a&gt;基础知识&lt;/h2&gt;&lt;p&gt;1.java的可移植性原理：依赖不同平台的jvm，所有的源代码(&lt;em&gt;.java)经过 javac 编译成字节码文件(&lt;/em&gt;.class)就可以在不同平台的 JVM 上解释执行。&lt;br&gt;2.public class  和  class  的区别：一个java文件只能有一个 public 声明的 class ，并且该类名和文件名称相同，可以同时存在多个 class 类，经过编译生成多个 &lt;em&gt;.class 文件，执行的时候一定要执行已经生成的 &lt;/em&gt;.class 文件。&lt;br&gt;3.java 数据类型的划分：8 个基本数据类型{boolean,char,byte,short,int,long,float,double}、3 个引用数据类型{class,interface,array}&lt;br&gt;4.方法：一段可以重复调用的代码段。方法的重载：根据方法的签名来判断方法重载。方法签名：参数个数和参数类型、参数顺序。&lt;br&gt;5.数组：数组是引用数据类型，所以一定要划分出内存：栈和堆两块内存。数组的声明定义、初始化和简单操作，jdk 提供的相关操作方法：java.util.Array.sort(数组名称)、System.arraycopy(Object src, int srcPos, Object dest, int destPos, int length)数组拷贝。&lt;br&gt;6.length、length()、size()：length是数组的一个属性，length()是字符串的一个方法，size()是泛型集合的一个方法。&lt;br&gt;7.JDK、JRE、JVM三者间的关系：&lt;a href=&quot;http://playkid.blog.163.com/blog/static/56287260201372113842153/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;金字塔结构  JDK=JRE+JVM+Java程序&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;面向对象基础&quot;&gt;&lt;a href=&quot;#面向对象基础&quot; class=&quot;headerlink&quot; title=&quot;面向对象基础&quot;&gt;&lt;/a&gt;面向对象基础&lt;/h2&gt;&lt;p&gt;1.类和对象的概念：类是共性的抽象描述，对象是类的具体表现。&lt;br&gt;2.面向对象的三大特性：封装、继承、多态。&lt;br&gt;3.构造方法：构造方法的主要作用就是为对象的属性初始化，默认会为类创建一个无参构造方法，一旦手动创建非无参构造方法，则不会再创建默认的无参构造方法，这时需要手动创建无参构造方法。&lt;br&gt;4.匿名对象：没有对应的栈内存空间，仅使用一次就等待被垃圾回收。&lt;br&gt;5.String类：&lt;br&gt;  1).变量的初始化的两种方式{直接赋值、调用构造方法 new String(“字符串”)}.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;直接赋值会开辟一个栈内存空间，如果在字符串常量池中不存在该字符串引用地址，
则将会开辟一个堆内存空间创建该字符串对象并返回该字符串引用地址存放到字符串常量池（在本地方法栈中）中并使得引用变量指向他，而且以后若有相同的内容将不再创建
字符串对象及字符串常量池引用而是直接将引用变量指向常量池中的该字符串的引用，但使用构造方法，则会开辟三个或两个内存空间，一个栈内存空间和两个或一个堆内存空间，使用构造
方法的形式创建的对象将直接放置到堆中，每调用一次就会创建一个新的对象，而构造方法的参数也是一个string对象，该字符串也是需要在堆内存中创建存储的，若已存在则可不需要创建。
&amp;lt;strong style=&amp;quot;color:red;&amp;quot;&amp;gt;因此，直接赋值方式可能会只创建一个栈内存空间（所创建的字符串对象的引用在常量池中已经存在），也可能创建三个内存空间（一个栈内存空间、一个字符串常量池栈空间（方法栈空间）
和一个堆内存空间），但构造方法的方式肯定是创建两个或三个内存空间（一个栈内存空间和一个或两个堆内存空间）。&amp;lt;/strong&amp;gt;

String s = new String(&amp;quot;abc&amp;quot;); 创建了几个对象的问题：
当 “abc” 在 字符串常量池中已经存在的时候，创建了 一个 对象， 是在构造方法返回的时候创建的；
当 “abc” 在 字符串常量池中不存在的时候， 创建了 两个 对象， 一个是在构造方法返回的时候创建的，另一个是 创建 字符串 &amp;quot;abc&amp;quot; 的，因为 new String() 这个构造方法的参数 也是一个字符串。

String s = &amp;quot;abc&amp;quot;; 和 String s = &amp;quot;ab&amp;quot; + &amp;quot;cd&amp;quot;; 
都只创建了一个对象，因为这种方式在编译期 s 的值 就已经确定了，常量的值 在 编译期 就已经确定了， 而 只有使用引号包含的文本方式创建的String对象之间使用 “+” 连接产生的新对象才会被加入字符串常量池中。
对于 String s = &amp;quot;abc&amp;quot;; 就是创建的 “abc” 这一个 对象，
对于 String s = &amp;quot;ab&amp;quot; + &amp;quot;cd&amp;quot;; 其实质 就相当于 String s = &amp;quot;abcd&amp;quot;; 同理，String s = &amp;quot;a&amp;quot; + “b” + &amp;quot;c&amp;quot; + &amp;quot;d&amp;quot;; 也只创建了一个对象。
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;  参考资料：&lt;br&gt;  &lt;a href=&quot;http://ask.csdn.net/questions/197451&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;java中String类两种初始化的区别&lt;/a&gt;、&lt;a href=&quot;http://blog.csdn.net/Henry_YQH/article/details/8619098&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java中两种字符串初始化方法的区别&lt;/a&gt;、&lt;br&gt;  &lt;a href=&quot;http://www.cnblogs.com/Cratical/archive/2012/08/21/2649985.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java虚拟机 运行时数据区&lt;/a&gt;、&lt;a href=&quot;http://www.cnblogs.com/iyangyuan/p/4631696.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;触摸java常量池&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  2).Java中的String为什么是不可变的.  &lt;/p&gt;
&lt;pre&gt;&lt;code&gt;在Java中String类其实就是对字符数组的封装,而String类的变量都是 private final ，外部不能修改，这样就是，String变量一旦初始化就不能修改；而String类提供了一些修改替换等方法其实质是返回了新的String对象并赋值。
但是可以通过反射的机制来改变String对象的值，因为String类的 value 属性 是char 类型数组的引用，可以通过反射获取 String的 value 字段并改变他的访问权限，然后获取value的值在进行改变，这样是可以达到目标的。
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;  参考资料：&lt;br&gt;  &lt;a href=&quot;http://blog.csdn.net/zhangjg_blog/article/details/18319521&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java中的String为什么是不可变的？ – String源码分析&lt;/a&gt;、&lt;a href=&quot;http://www.importnew.com/16817.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java中的String为什么是不可变的？ — String源码分析&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  3).== 和 equals() 的区别：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;== 是值比较， equals 是引用比较。 == 对于基本数据类型来说就是比较他们的值，而对于引用数据类型来说是比较他们存放的引用地址；equals是用于引用类型的值比较。
值得注意的是：
&amp;lt;strong style=&amp;quot;color:red;&amp;quot;&amp;gt;在Java中，Object对象的equals方法默认使用了= =操作符，所以如果你自创的类没有覆盖equals方法，那你的类使用equals和使用==会得到同样的结果。&amp;lt;/strong&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;  参考资料：&lt;br&gt;  &lt;a href=&quot;http://www.cnblogs.com/zhxhdean/archive/2011/03/25/1995431.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java中equals和==的区别&lt;/a&gt;、&lt;a href=&quot;http://www.importnew.com/6804.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;equals与”==”的区别&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;  4).string类的相关方法使用：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;|- 与字符相关：toCharArray()、charAt(int ind)、new String(char c[])、new String(char c[],int offset,int length) 
|- 与字节相关：getBytes()、new String(byte b[])、new String(byte b[],int offset,int length)
|- 拆份：public String[] split(String regex)
|- 替换：public String replaceAll(String org,String newc)、public String replaceFirst(String org,String newc) 
|- 截取：public String substring(int offset,int length) 、public String substring(int offset)
|- 其他操作：length()、toUpperCase()、toLowerCase()、trim()、equalsIgnoreCase()、 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;6.java中关于 值传递 和 引用传递的争论：“《Core Java》的作者，以及JAVA的创造者James Gosling都认为当一个对象或引用类型变量被当作参数传递时，也是值传递”&lt;br&gt;参见：&lt;a href=&quot;http://www.cnblogs.com/xiaoQLu/archive/2013/04/10/3011561.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java值传递和引用传递之我见&lt;/a&gt;、&lt;a href=&quot;https://www.zhihu.com/question/31203609&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;java到底是值传递还是引用传递？&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://www.zhihu.com/question/20628016&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;为什么 Java 只有值传递，但 C# 既有值传递，又有引用传递，这种语言设计有哪些好处？&lt;/a&gt;&lt;br&gt;7.static、this关键字:&lt;/p&gt;
&lt;p&gt;   static关键字:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;static所修饰的方法、字段、初始化块等是属于类本身的而不是对象实例，“static的真正作用是用于就是用于区分Field、方法、内部类、初始化块这四种成员到底属于类本身还是属于实例。”
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;   this关键字：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1）Java提供了一个this关键字，this关键字总是指向调用该方法的对象。
根据this出现位置的不同，有两种情形：
（1）在构造器中引用该构造器正在初始化的对象；
（2）在方法中引用调用该方法的对象。
2）this关键字最大的作用就是让类中一个方法，访问该类里的另一方法或Field。
3）this可以代表任何对象，当this出现在某个方法体中时，它所代表的对象是不确定的，但是它的类型是确定的，它所代表的对象只能是当前类；只有当这个方法被调用时，它所代表的对象才被确定下来：谁调用这个方法，this就代表谁。
4）static修饰的方法可以直接使用类来调用方法。如果在static修饰的方法中使用this关键字，则这个关键字就无法指向合适的对象。所以，static修饰的方法中不能使用this引用。
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;参见：&lt;a href=&quot;http://www.cnblogs.com/EvanLiu/archive/2013/06/05/3118420.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java笔记：static、this关键字&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;类的初始化过程（执行顺序）：&lt;/p&gt;
&lt;p&gt;在不涉及继承关系的时候的执行顺序：&lt;/p&gt;
&lt;p&gt; （静态变量、惊天初始化块）&amp;gt;（变量、初始化块）&amp;gt;构造器&lt;/p&gt;
&lt;p&gt;在设计有继承关系时候的执行顺序：&lt;/p&gt;
&lt;p&gt; （父类静态变量、静态初始化块）&amp;gt;（子类静态变量、静态初始化块）&amp;gt;（父类变量、初始化块）&amp;gt; 父类构造器 &amp;gt;（子类变量、子类初始化块）&amp;gt; 子类构造器&lt;br&gt; &lt;strong&gt;并不是父类完全初始化结束才进行子类初始化，而是子类的静态变量和静态初始化块在父类变量和初始化块之前初始化。而（静态）变量和（静态）初始化块之间的顺序是由他们在类声明时出现的先后顺序决定&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;9.内部类：是指在一个外部类的内部再定义一个类。内部类作为外部类的一个成员，并且依附于外部类而存在的。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Java中非静态内部类对象的创建要依赖其外部类对象

即：
   new Outer().new Inner();
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;使用内部类的原因：使用内部类最吸引人的原因是：每个内部类都能独立地继承一个（接口的）实现，所以无论外围类是否已经继承了某个（接口的）实现，对于内部类都没有影响。接口只是解决了部分问题，而内部类使得多重继承的解决方案变得更加完整。&lt;/p&gt;
&lt;p&gt;下述摘自&lt;a href=&quot;http://www.cnblogs.com/chenssy/p/3388487.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;java提高篇(八)—-详解内部类&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;其实使用内部类最大的优点就在于它能够非常好的解决多重继承的问题，但是如果我们不需要解决多重继承问题，那么我们自然可以使用其他的编码方式，但是使用内部类还能够为我们带来如下特性（摘自《Think in java》）：

      1、内部类可以用多个实例，每个实例都有自己的状态信息，并且与其他外围对象的信息相互独立。

      2、在单个外围类中，可以让多个内部类以不同的方式实现同一个接口，或者继承同一个类。

      3、创建内部类对象的时刻并不依赖于外围类对象的创建。

      4、内部类并没有令人迷惑的“is-a”关系，他就是一个独立的实体。

      5、内部类提供了更好的封装，除了该外围类，其他类都不能访问。

当我们在创建一个内部类的时候，它无形中就与外围类有了一种联系，依赖于这种联系，它可以无限制地访问外围类的元素。
&lt;/code&gt;&lt;/pre&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;OuterClass&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        System.out.println(&lt;span class=&quot;string&quot;&gt;&quot;OuterClass...&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;InnerClass&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; OuterClass &lt;span class=&quot;title&quot;&gt;getOuterClass&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; OuterClass.&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String[] args)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        OuterClass outerClass = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; OuterClass();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        OuterClass.InnerClass innerClass = outerClass.new InnerClass();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        innerClass.getOuterClass().display();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Output:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;OuterClass...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code&gt;内部类是个编译时的概念，一旦编译成功后，它就与外围类属于两个完全不同的类（当然他们之间还是有联系的）。对于一个名为OuterClass的外围类和一个名为InnerClass的内部类，在编译成功后，会出现这样两个class文件：OuterClass.class和OuterClass$InnerClass.class。
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;在Java中内部类主要分为成员内部类、局部内部类、匿名内部类、静态内部类.&lt;a href=&quot;http://www.cnblogs.com/chenssy/p/3388487.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;具体了解参考&lt;/a&gt;&lt;br&gt;10.类的继承：方便地实现了功能的扩充，在java中只允许单继承；子类能直接继承父类所有的非私有操作，而只能隐式地继承所有的私有操作。&lt;br&gt;11.重载 和 覆写 的区别：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;重载：根据方法签名来判断方法重载
    是同一个类中，相同的方法名称，不同的参数列表，以实现不同的功能。
覆写：在继承关系中体现
    是子类和父类之间，相同的方法名称并且方法的参数列表一样，在不同类中实现不同的方法。但子类中的访问权限不能比父类中的严格。
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;12.final 关键字：修饰的类怒能再被继承，修饰的方法不能被子类覆写，修饰的变量表示常量。&lt;br&gt;13.抽象类： 包含一个抽象方法的类，抽象类必须使用abstract关键字声明，所有的抽象类不能直接实例化，只能被子类继承并覆写所有的抽象方法。&lt;br&gt;14.接口： 抽象方法和全局常量的集合，使用 interface 关键字进行声明，通过 implements 关键字被子类实现，一个子类可以实现多个接口，一个接口也可以继承多个接口。&lt;br&gt;15.包装类、自动装箱、自动拆箱：包装类是对基本数据类型的处理封装并包含了许多与基本数据先关的操作的封装；装箱：基本数据类型转换为包装类就是装箱，反之就是拆箱。&lt;/p&gt;
&lt;h2 id=&quot;面向对象高级&quot;&gt;&lt;a href=&quot;#面向对象高级&quot; class=&quot;headerlink&quot; title=&quot;面向对象高级&quot;&gt;&lt;/a&gt;面向对象高级&lt;/h2&gt;&lt;p&gt;1.抽象类 和 接口 的区别：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;共同点：
      都不能实例化，都是抽象类型(抽象层次不同，抽象类是对类抽象，接口是对行为抽象；
      抽象类是对有相似特点的类的一种继承关系的体现，而接口的子类之间可以毫无关系
      从设计层次来看，抽象类是自底向上抽象，而接口是自顶向下设计的)，
      都是实现多态的一种机制，子类都需要实现定义的所有的抽象方法，

不同点：

      抽象类：
            1.能有默认的方法实现
            2.可以存在构造器
            3.可以由 public、protected、default来修饰
            4.可以存在main方法，并且可以运行
            5.可以继承一个类或实现多个接口
            6.新增方法可能不需要更改实现类

      接口：
            1.不能有任何方法实现
            2.不能有构造器
            3.只能由默认的public来修饰，不能用其他来修饰
            4.不能存在main方法
            5.只能继承一个或多个其他接口
            6.新增方法一定要更改实现类

     综述：最重要的三方面：方法有默认实现，多继承实现，新增方法对实现类的影响
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;  参考资料：&lt;a href=&quot;http://blog.csdn.net/chenssy/article/details/12858267&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;java提高篇（四）—–抽象类与接口&lt;/a&gt;、&lt;a href=&quot;http://www.importnew.com/12399.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java抽象类与接口的区别&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;2.java 的多态性： 重载、覆写、向上转型&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;在面向对象中，多态分为静态多态和动态多态，静态多态是指编译期就已经确定了调用目标，主要是指重载；而动态多态是指在程序运行期才能确定调用目标，是通过动态绑定来实现的，主要是指覆写（通过继承和接口方式）。
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;参考资料：&lt;a href=&quot;http://www.cnblogs.com/chenssy/p/3372798.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;java提高篇(四)—–理解java的三大特性之多态&lt;/a&gt;、&lt;a href=&quot;http://blog.csdn.net/hikvision_java_gyh/article/details/8957456&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java多态性详解——父类引用子类对象&lt;/a&gt;、&lt;br&gt;&lt;a href=&quot;http://blog.csdn.net/thinkGhoster/article/details/2307001&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;深入理解java多态性&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;3.单例设计模式：&lt;/p&gt;
&lt;p&gt;懒汉式，线程不安全&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Singleton&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; Singleton instance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; Singleton &lt;span class=&quot;title&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(instance == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            instance = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Singleton();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; instance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;懒汉式，线程安全&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Singleton&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; Singleton instance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;synchronized&lt;/span&gt; Singleton &lt;span class=&quot;title&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (instance == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            instance = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Singleton();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; instance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;双重检验锁&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Singleton&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; Singleton instance;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; Singleton &lt;span class=&quot;title&quot;&gt;getSingleton&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (instance == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;                         &lt;span class=&quot;comment&quot;&gt;//Single Checked&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;synchronized&lt;/span&gt; (Singleton.class) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (instance == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;                 &lt;span class=&quot;comment&quot;&gt;//Double Checked&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    instance = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Singleton();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; instance ;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;参考资料：&lt;a href=&quot;http://wuchong.me/blog/2014/08/28/how-to-correctly-write-singleton-pattern/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;如何正确地写出单例模式&lt;/a&gt;、&lt;a href=&quot;http://www.devwiki.net/2016/02/27/Java-Design-Pattern-Singleton/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java设计模式—单例模式&lt;/a&gt;、&lt;br&gt;&lt;a href=&quot;https://segmentfault.com/a/1190000002528104&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;设计模式-单例模式&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;4.匿名内部类：是没有名字的内部类，正因为没有名字，所以匿名内部类只能使用一次，它通常用来简化代码编写。&lt;br&gt;使用匿名内部类我们必须要继承一个父类或者实现一个接口，当然也仅能只继承一个父类或者实现一个接口。同时它也是没有class关键字，这是因为匿名内部类是直接使用new来生成一个对象的引用。当然这个引用是隐式的。&lt;br&gt;由于匿名内部类不能是抽象类，所以它必须要实现它的抽象父类或者接口里面所有的抽象方法。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;注意事项

  在使用匿名内部类的过程中，我们需要注意如下几点：

   1、使用匿名内部类时，我们必须是继承一个类或者实现一个接口，但是两者不可兼得，同时也只能继承一个类或者实现一个接口。

   2、匿名内部类中是不能定义构造函数的。

   3、匿名内部类中不能存在任何的静态成员变量和静态方法。

  4、匿名内部类为局部内部类，所以局部内部类的所有限制同样对匿名内部类生效。

  5、匿名内部类不能是抽象的，它必须要实现继承的类或者实现的接口的所有抽象方法。

  6、 我们给匿名内部类传递参数的时候，若该形参在内部类中需要被使用，那么该形参必须要为final。也就是说：当所在的方法的形参需要被内部类里面使用时，该形参必须为final。
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;参考资料：&lt;a href=&quot;http://www.cnblogs.com/chenssy/p/3390871.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;java提高篇(十)—–详解匿名内部类&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;5.泛型：&lt;/p&gt;
&lt;p&gt;泛型的好处是在编译的时候检查类型安全，并且所有的强制转换都是自动和隐式的，以提高代码的重用率。&lt;/p&gt;
&lt;p&gt;  参考资料：&lt;a href=&quot;http://www.ibm.com/developerworks/cn/java/j-jtp01255.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java 理论和实践: 了解泛型&lt;/a&gt;、&lt;a href=&quot;http://www.imooc.com/article/1935&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java总结篇系列：Java泛型&lt;/a&gt;、&lt;br&gt;  &lt;a href=&quot;http://my.oschina.net/jiemachina/blog/201507&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;java 泛型中 T 和 问号（通配符）的区别&lt;/a&gt;、&lt;a href=&quot;http://findingsea.github.io/2015/10/09/java-generic-type-erasure/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java泛型：类型擦除&lt;/a&gt;、&lt;br&gt;  &lt;a href=&quot;http://liuzxc.github.io/blog/java-advance-06/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java 提高篇(六) — 泛型&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;6.里氏代换原则：&lt;br&gt;里氏代换原则（LiskovSubstitution Principle，简称LSP）说的是：一个软件实体如果使用的是一个基类的话，那么一定适用于其子类，而且它根本不能够察觉出基类对象&lt;br&gt;通俗点：里氏代换原则(Liskov Substitution Principle, LSP)：所有引用基类（父类）的地方必须能透明地使用其子类的对象。&lt;/p&gt;
&lt;p&gt;&lt;strong style=&quot;color:red;&quot;&gt;里氏代换原则是实现开闭原则的重要方式之一，由于使用基类对象的地方都可以使用子类对象，因此在程序中尽量使用基类类型来对对象进行定义，而在运行时再确定其子类类型，用子类对象来替换父类对象。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;参考资料：&lt;a href=&quot;http://www.blogjava.net/fancydeepin/archive/2012/08/02/java_pattern_LSP.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;里氏代换原则（LSP）&lt;/a&gt;、&lt;a href=&quot;http://blog.csdn.net/lovelion/article/details/7540445&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;面向对象设计原则之里氏代换原则&lt;/a&gt;、&lt;br&gt;&lt;a href=&quot;http://zim.logdown.com/posts/261930-about-liskov-substitution-principle&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;equals 与里氏代换原则&lt;/a&gt;、&lt;a href=&quot;http://blog.csdn.net/zhengzhb/article/details/7281833&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;设计模式六大原则（2）：里氏替换原则&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;关于面试，相关资料推荐&quot;&gt;&lt;a href=&quot;#关于面试，相关资料推荐&quot; class=&quot;headerlink&quot; title=&quot;关于面试，相关资料推荐&quot;&gt;&lt;/a&gt;关于面试，相关资料推荐&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/jackfrued/article/details/44921941&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java面试题全集（上）&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.csdn.net/jackfrued/article/details/44931137&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java面试题全集（中）&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://blog.csdn.net/jackfrued/article/details/44931161&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java面试题全集（下）&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.importnew.com/10980.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;115个Java面试题和答案——终极列表（上）&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.importnew.com/11028.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;115个Java面试题和答案——终极列表（下）&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.importnew.com/17232.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;最近5年133个Java面试问题列表&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.importnew.com/15980.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;40个Java集合面试问题和答案&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.hollischuang.com/archives/10#计算机基础知识&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java面试题整理&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;http://www.imooc.com/article/1330&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;20个高级Java面试题汇总&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;相关参考资料&quot;&gt;&lt;a href=&quot;#相关参考资料&quot; class=&quot;headerlink&quot; title=&quot;相关参考资料&quot;&gt;&lt;/a&gt;相关参考资料&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://www.zybuluo.com/king/note/29599&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java学习笔记&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://qd2.cache.baidupcs.com/file/79243cc0a9548154355db3ed7f3c83b6?bkt=p-6ee93bc7b3a9337328142b41dc618989&amp;amp;xcode=48178b544e5545ab60e7fc9ba9e23a128741cec7ecb7b3241682cb8519c2059f&amp;amp;fid=4179565000-250528-4267523062&amp;amp;time=1456579892&amp;amp;sign=FDTAXGERLBH-DCb740ccc5511e5e8fedcff06b081203-oh%2FHcN9g%2B%2Fva0xQWXSoPu1bK%2Byk%3D&amp;amp;to=qc2&amp;amp;fm=Nan,B,U,ny&amp;amp;sta_dx=5&amp;amp;sta_cs=0&amp;amp;sta_ft=rar&amp;amp;sta_ct=7&amp;amp;fm2=Nanjing,B,U,ny&amp;amp;newver=1&amp;amp;newfm=1&amp;amp;secfm=1&amp;amp;flow_ver=3&amp;amp;pkey=14000bd5be2f9c1584e7fb677bb26825f84fb7ccff250000004c19bd&amp;amp;sl=73793614&amp;amp;expires=8h&amp;amp;rt=sh&amp;amp;r=858982758&amp;amp;mlogid=1342792428858653681&amp;amp;vuk=1046126508&amp;amp;vbdid=2667063597&amp;amp;fin=%E6%9D%8E%E5%85%B4%E5%8D%8Ejavase%E5%85%A8%E9%83%A8%E7%AC%94%E8%AE%B0.rar&amp;amp;fn=%E6%9D%8E%E5%85%B4%E5%8D%8Ejavase%E5%85%A8%E9%83%A8%E7%AC%94%E8%AE%B0.rar&amp;amp;slt=pm&amp;amp;uta=0&amp;amp;rtype=1&amp;amp;iv=0&amp;amp;isw=0&amp;amp;dp-logid=1342792428858653681&amp;amp;dp-callid=0.1.1&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;李兴华javase全部笔记.rar(下载链接地址)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/chenssy/article/category/1688799/2&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;java提高篇&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.devstore.cn/essay/essayInfo/3434.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;衡量java初学者是否入门的6个问题&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://zangweiren.blog.51cto.com/all/412366&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;JAVA面试题解惑系列 （12）&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      java，java基础
    
    </summary>
    
      <category term="java" scheme="http://aresLove.github.io/categories/java/"/>
    
    
      <category term="java，java基础" scheme="http://aresLove.github.io/tags/java%EF%BC%8Cjava%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>hibernate 映射相关问题</title>
    <link href="http://aresLove.github.io/java/hibernate%E6%98%A0%E5%B0%84%E9%97%AE%E9%A2%98/"/>
    <id>http://aresLove.github.io/java/hibernate映射问题/</id>
    <published>2017-02-19T09:34:19.573Z</published>
    <updated>2017-02-19T09:34:19.573Z</updated>
    
    <content type="html">&lt;h2 id=&quot;需求背景&quot;&gt;&lt;a href=&quot;#需求背景&quot; class=&quot;headerlink&quot; title=&quot;需求背景&quot;&gt;&lt;/a&gt;需求背景&lt;/h2&gt;&lt;p&gt;项目需求，将中间数据库的数据查询到本地视图，再将本地视图（千万级数据量）和会员表（百万级数据量）关联查询导出相关数据，&lt;br&gt;因为数据量比较大，一次全部查出或导致内存溢出，因此，后台需要对这些关联数据分页查询然后分批导出cvs文件，然后上传到媒体服务器。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;需求实现过程中处理的问题&quot;&gt;&lt;a href=&quot;#需求实现过程中处理的问题&quot; class=&quot;headerlink&quot; title=&quot;需求实现过程中处理的问题&quot;&gt;&lt;/a&gt;需求实现过程中处理的问题&lt;/h2&gt;&lt;p&gt;1.视图处理须知：将视图注解（配置）实体关系映射，并将添加的实体加入 &lt;em&gt;persistence.xml&lt;/em&gt; 中；因为 查询实现的方式是 EJB JPA 实体管理器 创建的query，PersistenceContext（持久化上下文）上下文的配置文件中的 &lt;em&gt;持久化单元&lt;/em&gt; 中配置的相关实体,否则会 出现 为 sql 语句中的变量赋值时，无法将传入的参数设置到sql语句中&lt;br&gt;    &lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;java&lt;span class=&quot;class&quot;&gt;.lang&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.IndexOutOfBoundsException&lt;/span&gt;: Remember that ordinal parameters are &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;-based!&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这个问题产生的原因是 hibernate 通过 持久化上下文 中查找不到 相关实体，无法映射表结构，不能将参数设置到sql语句中，提示出这种很疑惑的问题，反复调试，能看到传入的变量值和创建出来的sql语句和sql变参，可就是无法将变量值设置给sql变参，后台日志输出上面的提示，很费解。&lt;/p&gt;
&lt;p&gt;2.创建视图实体和联合主键：使用注解方式实现，参照 &lt;a href=&quot;http://www.iteye.com/problems/87622&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hibernate怎样使用Annotation映射视图&lt;/a&gt; 和 &lt;a href=&quot;http://blog.csdn.net/flyemu/article/details/8302615&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Annotation对Hibernate中联合主键定义&lt;/a&gt; 将视图所有的字段放在联合主键实体中,该实体用&lt;br&gt;    &lt;figure class=&quot;highlight aspectj&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;annotation&quot;&gt;@Embeddable&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;注解，字段和普通实体一样使用&lt;br&gt;    &lt;figure class=&quot;highlight aspectj&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;annotation&quot;&gt;@Column&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;注解,在视图实体中使用该联合主键实体,用&lt;br&gt;    &lt;figure class=&quot;highlight less&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;@EmbeddedId&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;@AttributeOverrides&lt;/span&gt;(&amp;#123;...&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;注解，这样视图映射关系已经搞定，因为开启了org.hibernate.tool.hbm2ddl.SchemaUpdate - Running hbm2ddl schema update，在启动过程中会报&lt;br&gt;    &lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ERROR com&lt;span class=&quot;class&quot;&gt;.huanyu&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.common&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.jpa&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.index&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.OracleDbIndexBuilder&lt;/span&gt; - 创建“View_memcon”表主键(...)出错。&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;java&lt;span class=&quot;class&quot;&gt;.sql&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.SQLException&lt;/span&gt;: ORA-&lt;span class=&quot;number&quot;&gt;00942&lt;/span&gt;: 表或视图不存在&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;处理这个报错的方法是，关闭 hibernate hbm2ddl = none 即可，不需要更新索引，这个报错并不影响功能，只是在容器启动时报这么个错误看着不舒服,因为 本来 视图 就没有 主键 和 索引，这样去为视图 创建实体映射关系并添加联合主键，只是为了能使用 hibernate 去查询视图&lt;br&gt;3.关联查询语句： sql 语句   表、字段 is not mapped 问题&lt;br&gt;4.分批量导出多个文件： 因为写入单个文件的耗时线性增长，600万数据写入一个文件中，10多个小时没导完&lt;/p&gt;
&lt;h3 id=&quot;视图处理&quot;&gt;&lt;a href=&quot;#视图处理&quot; class=&quot;headerlink&quot; title=&quot;视图处理&quot;&gt;&lt;/a&gt;视图处理&lt;/h3&gt;&lt;p&gt;将视图映射成实体表，过程中 直接使用 em.createQuery(“数据库查询语句”)  报错：表 is not mapped 的问题，因此，引出了需要为视图创建实体和联合主键&lt;br&gt;创建视图实体和联合主键参照 &lt;a href=&quot;http://www.iteye.com/problems/87622&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hibernate怎样使用Annotation映射视图&lt;/a&gt; ，启动报关于视图 不存在的问题是因为开启了&lt;br&gt;更新表结构的配置，因此为视图更新表结构的时候创建联合主键时为视图更新索引报错，将 hibernate 的 hbm2ddl 配置关闭即可。&lt;/p&gt;
&lt;p&gt;过程中，调试关于 &lt;em&gt;java.lang.IndexOutOfBoundsException: Remember that ordinal parameters are 1-based!&lt;/em&gt;  的问题，反复调试总不知如何解决，后来得到指点&lt;br&gt;在  &lt;em&gt;将添加的视图实体加入 persistence.xml 中&lt;/em&gt; 之后，这个问题得到解决&lt;/p&gt;
&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;2016-01-13 10:32:26,742 [common-quartz-core.scheduler_Worker-2] ERROR com.huanyu.mbr.core.consumption.dao.ConsumptionDao - search(definition=WHERE&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  code.EQUALS(1507070011)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ORDER BY &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PAGE SIZE = 5000&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;PAGE = 0) error&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;SQL=&lt;span class=&quot;operator&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;SELECT&lt;/span&gt; v.*,&lt;span class=&quot;keyword&quot;&gt;m&lt;/span&gt;.&lt;span class=&quot;keyword&quot;&gt;name&lt;/span&gt;,&lt;span class=&quot;keyword&quot;&gt;m&lt;/span&gt;.sex,&lt;span class=&quot;keyword&quot;&gt;m&lt;/span&gt;.idNo,&lt;span class=&quot;keyword&quot;&gt;m&lt;/span&gt;.cell,&lt;span class=&quot;keyword&quot;&gt;m&lt;/span&gt;.cityName&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;FROM&lt;/span&gt; com.huanyu.mbr.core.consumption.dao.Consumption &lt;span class=&quot;keyword&quot;&gt;AS&lt;/span&gt; consumption , com.huanyu.mbr.core.consumption.dao.view_memcon &lt;span class=&quot;keyword&quot;&gt;AS&lt;/span&gt; v , com.huanyu.mbr.dao.mbr.Mbr &lt;span class=&quot;keyword&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;m&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;WHERE&lt;/span&gt; (consumption.code &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; ?) &lt;span class=&quot;keyword&quot;&gt;AND&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;m&lt;/span&gt;.&lt;span class=&quot;keyword&quot;&gt;id&lt;/span&gt;=v.code) &lt;span class=&quot;keyword&quot;&gt;AND&lt;/span&gt; (v.code=consumption.queryCode)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;java&lt;/span&gt;.lang.IndexOutOfBoundsException: Remember that ordinal &lt;span class=&quot;keyword&quot;&gt;parameters&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;are&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;-based!&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;at&lt;/span&gt; org.hibernate.&lt;span class=&quot;keyword&quot;&gt;engine&lt;/span&gt;.&lt;span class=&quot;keyword&quot;&gt;query&lt;/span&gt;.ParameterMetadata.getOrdinalParameterDescriptor(ParameterMetadata.&lt;span class=&quot;keyword&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;55&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;at&lt;/span&gt; org.hibernate.&lt;span class=&quot;keyword&quot;&gt;engine&lt;/span&gt;.&lt;span class=&quot;keyword&quot;&gt;query&lt;/span&gt;.ParameterMetadata.getOrdinalParameterExpectedType(ParameterMetadata.&lt;span class=&quot;keyword&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;61&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;at&lt;/span&gt; org.hibernate.impl.AbstractQueryImpl.determineType(AbstractQueryImpl.&lt;span class=&quot;keyword&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;397&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;at&lt;/span&gt; org.hibernate.impl.AbstractQueryImpl.setParameter(AbstractQueryImpl.&lt;span class=&quot;keyword&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;369&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;at&lt;/span&gt; org.hibernate.ejb.QueryImpl.setParameter(QueryImpl.&lt;span class=&quot;keyword&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;234&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;at&lt;/span&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(&lt;span class=&quot;keyword&quot;&gt;Native&lt;/span&gt; Method)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;at&lt;/span&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.&lt;span class=&quot;keyword&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;57&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;at&lt;/span&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.&lt;span class=&quot;keyword&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;43&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;at&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;java&lt;/span&gt;.lang.reflect.Method.invoke(Method.&lt;span class=&quot;keyword&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;606&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;at&lt;/span&gt; org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.&lt;span class=&quot;keyword&quot;&gt;java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;311&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;at&lt;/span&gt; com.sun.proxy.$Proxy94.setParameter(&lt;span class=&quot;keyword&quot;&gt;Unknown&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Source&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这个问题 说明 对于 hibernate基础 掌握不扎实，对于 EJB JPA 概念理解不深&lt;/p&gt;
&lt;h3 id=&quot;关联查询语句问题及处理（表、字段-not-mapped-）【hibernate-基础不扎实】&quot;&gt;&lt;a href=&quot;#关联查询语句问题及处理（表、字段-not-mapped-）【hibernate-基础不扎实】&quot; class=&quot;headerlink&quot; title=&quot;关联查询语句问题及处理（表、字段 not mapped ）【hibernate 基础不扎实】&quot;&gt;&lt;/a&gt;关联查询语句问题及处理（表、字段 not mapped ）【hibernate 基础不扎实】&lt;/h3&gt;&lt;h4 id=&quot;EJB-JPA-实体管理器&quot;&gt;&lt;a href=&quot;#EJB-JPA-实体管理器&quot; class=&quot;headerlink&quot; title=&quot;EJB JPA 实体管理器&quot;&gt;&lt;/a&gt;EJB JPA 实体管理器&lt;/h4&gt;&lt;figure class=&quot;highlight aspectj&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;annotation&quot;&gt;@PersistenceContext&lt;/span&gt;(unitName = &lt;span class=&quot;string&quot;&gt;&quot;huanyu-mbr-core.persistent-unit&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;protected&lt;/span&gt; EntityManager em;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;下述是问题，是因为-em-createQuery-“sql…”）-其中-sql-中-直接使用了-数据库表名称-view-memcon-，而不是-实体名称-Member&quot;&gt;&lt;a href=&quot;#下述是问题，是因为-em-createQuery-“sql…”）-其中-sql-中-直接使用了-数据库表名称-view-memcon-，而不是-实体名称-Member&quot; class=&quot;headerlink&quot; title=&quot;下述是问题，是因为 em.createQuery(“sql…”）,其中 sql 中 直接使用了 数据库表名称(view_memcon)，而不是 实体名称(Member)&quot;&gt;&lt;/a&gt;下述是问题，是因为 em.createQuery(“sql…”）,其中 sql 中 直接使用了 &lt;em&gt;数据库表名称&lt;/em&gt;(view_memcon)，而不是 &lt;em&gt;实体名称&lt;/em&gt;(Member)&lt;/h4&gt;&lt;p&gt;对于 视图的字段属性 的 操作：select  v.viewData.code from View_memcon v …  其中 View_memcon 是视图实体名称，v.viewData.code 是通过联合主键实体映射来映射视图字段&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;java&lt;span class=&quot;class&quot;&gt;.lang&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.IllegalArgumentException&lt;/span&gt;: org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.hql&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.ast&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.QuerySyntaxException&lt;/span&gt;: view_memcon is not mapped [SELECT &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;COUNT&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(m.id)&lt;/span&gt;&lt;/span&gt; FROM com&lt;span class=&quot;class&quot;&gt;.huanyu&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.mbr&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.core&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.consumption&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.dao&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.view_memcon&lt;/span&gt; v, t_mbr m WHERE m&lt;span class=&quot;class&quot;&gt;.id&lt;/span&gt; = v&lt;span class=&quot;class&quot;&gt;.memId&lt;/span&gt; AND v&lt;span class=&quot;class&quot;&gt;.unionCode&lt;/span&gt; = (select &lt;span class=&quot;tag&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.queryCode&lt;/span&gt; from t_consumption &lt;span class=&quot;tag&quot;&gt;p&lt;/span&gt; where &lt;span class=&quot;tag&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.code&lt;/span&gt; = :code)]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.ejb&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.AbstractEntityManagerImpl&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.throwPersistenceException&lt;/span&gt;(AbstractEntityManagerImpl&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;616&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.ejb&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.AbstractEntityManagerImpl&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.createQuery&lt;/span&gt;(AbstractEntityManagerImpl&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;95&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at sun&lt;span class=&quot;class&quot;&gt;.reflect&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.GeneratedMethodAccessor62&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.invoke&lt;/span&gt;(Unknown Source)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at sun&lt;span class=&quot;class&quot;&gt;.reflect&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.DelegatingMethodAccessorImpl&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.invoke&lt;/span&gt;(DelegatingMethodAccessorImpl&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;43&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at java&lt;span class=&quot;class&quot;&gt;.lang&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.reflect&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.Method&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.invoke&lt;/span&gt;(Method&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;606&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.springframework&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.orm&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.jpa&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.ExtendedEntityManagerCreator&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;$ExtendedEntityManagerInvocationHandler&lt;/span&gt;.&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;invoke&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ExtendedEntityManagerCreator.java:&lt;span class=&quot;number&quot;&gt;366&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at com&lt;span class=&quot;class&quot;&gt;.sun&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.proxy&lt;/span&gt;.&lt;span class=&quot;variable&quot;&gt;$Proxy64&lt;/span&gt;.&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;createQuery&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Unknown Source)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at sun&lt;span class=&quot;class&quot;&gt;.reflect&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.GeneratedMethodAccessor62&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.invoke&lt;/span&gt;(Unknown Source)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at sun&lt;span class=&quot;class&quot;&gt;.reflect&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.DelegatingMethodAccessorImpl&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.invoke&lt;/span&gt;(DelegatingMethodAccessorImpl&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;43&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at java&lt;span class=&quot;class&quot;&gt;.lang&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.reflect&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.Method&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.invoke&lt;/span&gt;(Method&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;606&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.springframework&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.orm&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.jpa&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.SharedEntityManagerCreator&lt;/span&gt;&lt;span class=&quot;variable&quot;&gt;$SharedEntityManagerInvocationHandler&lt;/span&gt;.&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;invoke&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(SharedEntityManagerCreator.java:&lt;span class=&quot;number&quot;&gt;241&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at com&lt;span class=&quot;class&quot;&gt;.sun&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.proxy&lt;/span&gt;.&lt;span class=&quot;variable&quot;&gt;$Proxy64&lt;/span&gt;.&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;createQuery&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Unknown Source)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Caused by: org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.hql&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.ast&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.QuerySyntaxException&lt;/span&gt;: view_memcon is not mapped [SELECT &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;COUNT&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(m.id)&lt;/span&gt;&lt;/span&gt; FROM com&lt;span class=&quot;class&quot;&gt;.huanyu&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.mbr&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.core&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.consumption&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.dao&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.view_memcon&lt;/span&gt; v, t_mbr m WHERE m&lt;span class=&quot;class&quot;&gt;.id&lt;/span&gt; = v&lt;span class=&quot;class&quot;&gt;.memId&lt;/span&gt; AND v&lt;span class=&quot;class&quot;&gt;.unionCode&lt;/span&gt; = (select &lt;span class=&quot;tag&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.queryCode&lt;/span&gt; from t_consumption &lt;span class=&quot;tag&quot;&gt;p&lt;/span&gt; where &lt;span class=&quot;tag&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.code&lt;/span&gt; = :code)]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.hql&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.ast&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.util&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.SessionFactoryHelper&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.requireClassPersister&lt;/span&gt;(SessionFactoryHelper&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;158&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.hql&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.ast&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.tree&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.FromElementFactory&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.addFromElement&lt;/span&gt;(FromElementFactory&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;87&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.hql&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.ast&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.tree&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.FromClause&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.addFromElement&lt;/span&gt;(FromClause&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;71&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.hql&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.ast&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.HqlSqlWalker&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.createFromElement&lt;/span&gt;(HqlSqlWalker&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;295&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.hql&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.antlr&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.HqlSqlBaseWalker&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.fromElement&lt;/span&gt;(HqlSqlBaseWalker&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;3228&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.hql&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.antlr&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.HqlSqlBaseWalker&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.fromElementList&lt;/span&gt;(HqlSqlBaseWalker&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;3112&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.hql&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.antlr&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.HqlSqlBaseWalker&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.fromClause&lt;/span&gt;(HqlSqlBaseWalker&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;720&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.hql&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.antlr&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.HqlSqlBaseWalker&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.query&lt;/span&gt;(HqlSqlBaseWalker&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;571&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.hql&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.antlr&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.HqlSqlBaseWalker&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.selectStatement&lt;/span&gt;(HqlSqlBaseWalker&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;288&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.hql&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.antlr&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.HqlSqlBaseWalker&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.statement&lt;/span&gt;(HqlSqlBaseWalker&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;231&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.hql&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.ast&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.QueryTranslatorImpl&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.analyze&lt;/span&gt;(QueryTranslatorImpl&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;231&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.hql&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.ast&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.QueryTranslatorImpl&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.doCompile&lt;/span&gt;(QueryTranslatorImpl&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;162&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.hql&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.ast&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.QueryTranslatorImpl&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.compile&lt;/span&gt;(QueryTranslatorImpl&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;113&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.engine&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.query&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.HQLQueryPlan&lt;/span&gt;.&amp;lt;init&amp;gt;(HQLQueryPlan&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;77&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.engine&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.query&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.HQLQueryPlan&lt;/span&gt;.&amp;lt;init&amp;gt;(HQLQueryPlan&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;56&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.engine&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.query&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.QueryPlanCache&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.getHQLQueryPlan&lt;/span&gt;(QueryPlanCache&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;72&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.impl&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.AbstractSessionImpl&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.getHQLQueryPlan&lt;/span&gt;(AbstractSessionImpl&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;133&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.impl&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.AbstractSessionImpl&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.createQuery&lt;/span&gt;(AbstractSessionImpl&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;112&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.impl&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.SessionImpl&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.createQuery&lt;/span&gt;(SessionImpl&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;1624&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	at org&lt;span class=&quot;class&quot;&gt;.hibernate&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.ejb&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.AbstractEntityManagerImpl&lt;/span&gt;&lt;span class=&quot;class&quot;&gt;.createQuery&lt;/span&gt;(AbstractEntityManagerImpl&lt;span class=&quot;class&quot;&gt;.java&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;92&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	... &lt;span class=&quot;number&quot;&gt;105&lt;/span&gt; more&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;分批量导出多个文件&quot;&gt;&lt;a href=&quot;#分批量导出多个文件&quot; class=&quot;headerlink&quot; title=&quot;分批量导出多个文件&quot;&gt;&lt;/a&gt;分批量导出多个文件&lt;/h3&gt;&lt;p&gt;由于导出数据量比较大，导出单个文件写入耗时性能降低，需要分批量导出多个文件，压缩上传到媒体服务器；google 到 &lt;a href=&quot;http://www.mkyong.com/java/how-to-compress-files-in-zip-format/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;How to compress files in ZIP format&lt;/a&gt;&lt;br&gt;使用 java.util.zip.ZipEntry 进行导出操作&lt;/p&gt;
&lt;figure class=&quot;highlight aspectj&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;AppCtxUtils  工具类&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt; com.huanyu.common.util;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; org.springframework.beans.BeansException;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; org.springframework.beans.factory.DisposableBean;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; org.springframework.context.ApplicationContext;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; org.springframework.context.ApplicationContextAware;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@author&lt;/span&gt; ares&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;AppCtxUtils&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;ApplicationContextAware&lt;/span&gt;, &lt;span class=&quot;title&quot;&gt;DisposableBean&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; ApplicationContext appCtx;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;setApplicationContext&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ApplicationContext appCtx1)&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; BeansException &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    appCtx = appCtx1;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;ApplicationContext &lt;span class=&quot;title&quot;&gt;getAppCtx&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    assertContextInjected();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; appCtx;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &amp;lt;T&amp;gt; &lt;span class=&quot;function&quot;&gt;T &lt;span class=&quot;title&quot;&gt;getBean&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(Class&amp;lt;T&amp;gt; clazz)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    assertContextInjected();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; appCtx.&lt;span class=&quot;title&quot;&gt;getBean&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(clazz)&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &amp;lt;T&amp;gt; &lt;span class=&quot;function&quot;&gt;T &lt;span class=&quot;title&quot;&gt;getBean&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String beanName)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    assertContextInjected();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; (T) appCtx.getBean(beanName);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &amp;lt;T&amp;gt; &lt;span class=&quot;function&quot;&gt;T &lt;span class=&quot;title&quot;&gt;getBean&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String beanName, Class&amp;lt;T&amp;gt; clazz)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    assertContextInjected();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; appCtx.&lt;span class=&quot;title&quot;&gt;getBean&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(beanName, clazz)&lt;/span&gt;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;assertContextInjected&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (appCtx == &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; IllegalStateException(&lt;span class=&quot;string&quot;&gt;&quot;applicaitonContext未注入!&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;annotation&quot;&gt;@Override&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;destroy&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; Exception &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    appCtx = &lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;文件 打包相关  方法&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * 创建临时文件夹目录（供存放多个临时导出文件）&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@return&lt;/span&gt; 创建的临时文件目录绝对路径&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@throws&lt;/span&gt; Exception&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;String &lt;span class=&quot;title&quot;&gt;getTempFileDirPath&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; Exception &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// 创建本地资源路径&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  String relativePath = SYSTEM_STATIC_FILE_PATH + &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SimpleDateFormat(&lt;span class=&quot;string&quot;&gt;&quot;yyyyMMdd-HHmmss&quot;&lt;/span&gt;).format(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Date()) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      + &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt; + UUID.randomUUID();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  Resource resource = AppCtxUtils.getAppCtx().getResource(relativePath);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  File file = resource.getFile();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!file.exists()) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    file.mkdirs();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  String realPath = resource.getFile().getPath();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; realPath;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * 文件打包&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@return&lt;/span&gt; zip文件路径&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@throws&lt;/span&gt; IOException&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;String &lt;span class=&quot;title&quot;&gt;zipFile&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; IOException &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  String zipFilePath = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.template.getName() + &lt;span class=&quot;string&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    + &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; SimpleDateFormat(&lt;span class=&quot;string&quot;&gt;&quot;yyyyMMdd-HHmmss&quot;&lt;/span&gt;).format(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Date()) + KEY_ZIPSUFFIX;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;byte&lt;/span&gt;[] buf = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;byte&lt;/span&gt;[&lt;span class=&quot;number&quot;&gt;1024&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  FileOutputStream f = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; FileOutputStream(zipFilePath);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ZipOutputStream out = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ZipOutputStream(f);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (String filePath : &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.fileList) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    File file = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; File(filePath);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ZipEntry ze = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ZipEntry(file.getName());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    out.putNextEntry(ze);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    FileInputStream in = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; FileInputStream(file);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; len;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; ((len = in.read(buf)) &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      out.write(buf, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, len);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    in.close();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  out.closeEntry();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  out.close();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; zipFilePath;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;p&gt;上述问题的处理解决过程中，个人 hibernate 基础 有待深入学习&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;参考资料&quot;&gt;&lt;a href=&quot;#参考资料&quot; class=&quot;headerlink&quot; title=&quot;参考资料&quot;&gt;&lt;/a&gt;参考资料&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/-10086/archive/2012/09/16/2687550.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;EJB之JPA(EntityManager)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.iteye.com/problems/87622&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hibernate怎样使用Annotation映射视图&lt;/a&gt; 和 &lt;a href=&quot;http://blog.csdn.net/flyemu/article/details/8302615&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Annotation对Hibernate中联合主键定义&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/14446048/hibernate-table-not-mapped-error&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hibernate table not mapped error&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.mkyong.com/java/how-to-compress-files-in-zip-format/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;How to compress files in ZIP format&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      hibernate 映射问题及处理
    
    </summary>
    
      <category term="java" scheme="http://aresLove.github.io/categories/java/"/>
    
    
      <category term="hibernate" scheme="http://aresLove.github.io/tags/hibernate/"/>
    
      <category term="hibernate映射" scheme="http://aresLove.github.io/tags/hibernate%E6%98%A0%E5%B0%84/"/>
    
      <category term="java" scheme="http://aresLove.github.io/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>Eclipse 使用经验</title>
    <link href="http://aresLove.github.io/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/eclipse%20%E4%BD%BF%E7%94%A8%E7%BB%8F%E9%AA%8C/"/>
    <id>http://aresLove.github.io/开发工具/eclipse 使用经验/</id>
    <published>2017-02-19T09:34:19.573Z</published>
    <updated>2017-02-19T09:34:19.573Z</updated>
    
    <content type="html">&lt;h1 id=&quot;Eclipse-使用经验总结记录&quot;&gt;&lt;a href=&quot;#Eclipse-使用经验总结记录&quot; class=&quot;headerlink&quot; title=&quot;Eclipse 使用经验总结记录&quot;&gt;&lt;/a&gt;Eclipse 使用经验总结记录&lt;/h1&gt;&lt;h2 id=&quot;配色方案&quot;&gt;&lt;a href=&quot;#配色方案&quot; class=&quot;headerlink&quot; title=&quot;配色方案&quot;&gt;&lt;/a&gt;配色方案&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;手动一点点设置,自定义所有要设置的,参考步骤：
MyEclipse2014 常用设置优化： http://www.360doc.com/content/15/0225/11/15242507_450658857.shtml

通过导入常用的配色方案来快速配置：
eclipse官方配色主题下载： http://eclipsecolorthemes.org/
eclipse 配置黑色主题： http://www.cnblogs.com/csulennon/p/4231405.html
如何修改eclipse背景颜色： http://jingyan.baidu.com/article/d45ad1489aebd169542b8062.html

通常将自己常用的配色方案导出,方便更换工作空间的配色等设置
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h2 id=&quot;实用快捷键和优化设置&quot;&gt;&lt;a href=&quot;#实用快捷键和优化设置&quot; class=&quot;headerlink&quot; title=&quot;实用快捷键和优化设置&quot;&gt;&lt;/a&gt;实用快捷键和优化设置&lt;/h2&gt;&lt;p&gt;使用快捷键转载自　&lt;a href=&quot;http://blog.csdn.net/linsongbin1/article/details/48954353&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;能够提高开发效率的Eclipse实用操作&lt;/a&gt;&lt;br&gt;最常用快捷键　&lt;a href=&quot;http://www.importnew.com/15440.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;最常用的Eclipse快捷键&lt;/a&gt;&lt;br&gt;优化设置　&lt;a href=&quot;http://www.importnew.com/13942.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;给Eclipse提速的7个技巧&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      Eclipse
    
    </summary>
    
      <category term="开发工具" scheme="http://aresLove.github.io/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="Eclipse" scheme="http://aresLove.github.io/tags/Eclipse/"/>
    
      <category term="后端工具" scheme="http://aresLove.github.io/tags/%E5%90%8E%E7%AB%AF%E5%B7%A5%E5%85%B7/"/>
    
      <category term="常用工具" scheme="http://aresLove.github.io/tags/%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>SublimeText 使用经验</title>
    <link href="http://aresLove.github.io/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/SublimeText%20%E4%BD%BF%E7%94%A8%E7%BB%8F%E9%AA%8C/"/>
    <id>http://aresLove.github.io/开发工具/SublimeText 使用经验/</id>
    <published>2017-02-19T09:34:19.572Z</published>
    <updated>2017-02-19T09:34:19.572Z</updated>
    
    <content type="html">&lt;h1 id=&quot;SublimeText-个人使用经验总结归纳&quot;&gt;&lt;a href=&quot;#SublimeText-个人使用经验总结归纳&quot; class=&quot;headerlink&quot; title=&quot;SublimeText 个人使用经验总结归纳&quot;&gt;&lt;/a&gt;SublimeText 个人使用经验总结归纳&lt;/h1&gt;&lt;h3 id=&quot;SublimeText2-个人安装方法-个人亲测可行-【离线安装方法】&quot;&gt;&lt;a href=&quot;#SublimeText2-个人安装方法-个人亲测可行-【离线安装方法】&quot; class=&quot;headerlink&quot; title=&quot;SublimeText2 个人安装方法(个人亲测可行)【离线安装方法】&quot;&gt;&lt;/a&gt;SublimeText2 个人安装方法(个人亲测可行)【离线安装方法】&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;1. 在安装目录下新建 Data  &amp;gt;    Installed Packages   形如：C:\Sublime Text2\Data\Installed Packages
2. 然后将下载的 package Control 压缩包放到    Installed Packages  目录下重起SublimeText
3. 然后  在 Data  &amp;gt;    Packages   目录下  新建  Package Control  文件夹   形如：C:\Sublime Text 2\Data\Packages\Package Control
4. 然后再 将   package Control 压缩包  的内容解压到    Data  &amp;gt;    Packages  &amp;gt; Package Control  文件夹内
5. 最后再重起SublimeText  即可
Ctrl+Shift+P  install  即可安装插件
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h2 id=&quot;快捷键列表（Shortcuts-Cheatsheet）&quot;&gt;&lt;a href=&quot;#快捷键列表（Shortcuts-Cheatsheet）&quot; class=&quot;headerlink&quot; title=&quot;快捷键列表（Shortcuts Cheatsheet）&quot;&gt;&lt;/a&gt;快捷键列表（Shortcuts Cheatsheet）&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;调出Console  ：Ctrl+P
查找         ：Ctrl+F
退出面板     ：Esc
快速格式化代码  ：选中代码 Ctrl+Alt+F

Emmet快速生成HTML框架：

    HTML:4t   ----&amp;gt;  Tab
    HTML/!       ----&amp;gt;  Tab
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;p&gt;下述快捷键列表是转载收藏&lt;a href=&quot;http://lucida.me/blog/sublime-text-complete-guide/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;lucida&lt;/a&gt;的快捷键列表&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;通用（General）&quot;&gt;&lt;a href=&quot;#通用（General）&quot; class=&quot;headerlink&quot; title=&quot;通用（General）&quot;&gt;&lt;/a&gt;通用（General）&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;↑↓←→：上下左右移动光标，注意不是不是KJHL！
Alt：调出菜单
Ctrl + Shift + P：调出命令板（Command Palette）
Ctrl + `：调出控制台
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;编辑（Editing）&quot;&gt;&lt;a href=&quot;#编辑（Editing）&quot; class=&quot;headerlink&quot; title=&quot;编辑（Editing）&quot;&gt;&lt;/a&gt;编辑（Editing）&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;Ctrl + Enter：在当前行下面新增一行然后跳至该行
Ctrl + Shift + Enter：在当前行上面增加一行并跳至该行
Ctrl + ←/→：进行逐词移动
Ctrl + Shift + ←/→进行逐词选择
Ctrl + ↑/↓移动当前显示区域
Ctrl + Shift + ↑/↓移动当前行
选择（Selecting）

Ctrl + D：选择当前光标所在的词并高亮该词所有出现的位置，再次Ctrl + D选择该词出现的下一个位置，在多重选词的过程中，使用Ctrl + K进行跳过，使用Ctrl + U进行回退，使用Esc退出多重编辑
Ctrl + Shift + L：将当前选中区域打散
Ctrl + J：把当前选中区域合并为一行
Ctrl + M：在起始括号和结尾括号间切换
Ctrl + Shift + M：快速选择括号间的内容
Ctrl + Shift + J：快速选择同缩进的内容
Ctrl + Shift + Space：快速选择当前作用域（Scope）的内容
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;查找-amp-替换（Finding-amp-Replacing）&quot;&gt;&lt;a href=&quot;#查找-amp-替换（Finding-amp-Replacing）&quot; class=&quot;headerlink&quot; title=&quot;查找&amp;amp;替换（Finding&amp;amp;Replacing）&quot;&gt;&lt;/a&gt;查找&amp;amp;替换（Finding&amp;amp;Replacing）&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;F3：跳至当前关键字下一个位置
Shift + F3：跳到当前关键字上一个位置
Alt + F3：选中当前关键字出现的所有位置
Ctrl + F/H：进行标准查找/替换，之后：
Alt + C：切换大小写敏感（Case-sensitive）模式
Alt + W：切换整字匹配（Whole matching）模式
Alt + R：切换正则匹配（Regex matching）模式
Ctrl + Shift + H：替换当前关键字
Ctrl + Alt + Enter：替换所有关键字匹配
Ctrl + Shift + F：多文件搜索&amp;amp;替换
跳转（Jumping）

Ctrl + P：跳转到指定文件，输入文件名后可以：
@ 符号跳转：输入@symbol跳转到symbol符号所在的位置
# 关键字跳转：输入#keyword跳转到keyword所在的位置
: 行号跳转：输入:12跳转到文件的第12行。
Ctrl + R：跳转到指定符号
Ctrl + G：跳转到指定行号
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;窗口（Window）&quot;&gt;&lt;a href=&quot;#窗口（Window）&quot; class=&quot;headerlink&quot; title=&quot;窗口（Window）&quot;&gt;&lt;/a&gt;窗口（Window）&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;Ctrl + Shift + N：创建一个新窗口
Ctrl + N：在当前窗口创建一个新标签
Ctrl + W：关闭当前标签，当窗口内没有标签时会关闭该窗口
Ctrl + Shift + T：恢复刚刚关闭的标签
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;屏幕（Screen）&quot;&gt;&lt;a href=&quot;#屏幕（Screen）&quot; class=&quot;headerlink&quot; title=&quot;屏幕（Screen）&quot;&gt;&lt;/a&gt;屏幕（Screen）&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;F11：切换普通全屏
Shift + F11：切换无干扰全屏
Alt + Shift + 2：进行左右分屏
Alt + Shift + 8：进行上下分屏
Alt + Shift + 5：进行上下左右分屏
分屏之后，使用Ctrl + 数字键跳转到指定屏，使用Ctrl + Shift + 数字键将当前屏移动到指定屏
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;h2 id=&quot;推荐资料&quot;&gt;&lt;a href=&quot;#推荐资料&quot; class=&quot;headerlink&quot; title=&quot;推荐资料&quot;&gt;&lt;/a&gt;推荐资料&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://code.tutsplus.com/courses/perfect-workflow-in-sublime-text-2&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;perfect-workflow-in-sublime-text-2&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://lucida.me/blog/sublime-text-complete-guide/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;sublime-text-complete-guide&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.jeffjade.com/2015/12/15/2015-04-17-toss-sublime-text/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;如何优雅地使用Sublime Text3&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      SublimeText
    
    </summary>
    
      <category term="开发工具" scheme="http://aresLove.github.io/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="SublimeText" scheme="http://aresLove.github.io/tags/SublimeText/"/>
    
      <category term="前端工具" scheme="http://aresLove.github.io/tags/%E5%89%8D%E7%AB%AF%E5%B7%A5%E5%85%B7/"/>
    
      <category term="常用工具" scheme="http://aresLove.github.io/tags/%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>Oracle物化视图</title>
    <link href="http://aresLove.github.io/Oracle/Oracle%E7%89%A9%E5%8C%96%E8%A7%86%E5%9B%BE/"/>
    <id>http://aresLove.github.io/Oracle/Oracle物化视图/</id>
    <published>2017-02-19T09:34:19.571Z</published>
    <updated>2017-02-19T09:34:19.571Z</updated>
    
    <content type="html">&lt;h2 id=&quot;问题背景&quot;&gt;&lt;a href=&quot;#问题背景&quot; class=&quot;headerlink&quot; title=&quot;问题背景&quot;&gt;&lt;/a&gt;问题背景&lt;/h2&gt;&lt;p&gt;客户提出：根据券号来查询相关券活动的信息，提供 REST 接口 供查询;由于 相关券活动 是由 第三方生成,下发到我们系统,再由 我们上传回客户,这中间 那个环节出现问题不清楚,等到发现问题再处理,客户项目上需求已经来不及;故此,客户希望我们系统提供相关 接口 供查询相关 券活动 生成和推送数据&lt;/p&gt;
&lt;p&gt;  –根据 券号&lt;br&gt;  查询&lt;br&gt;  –券号，模板，定义数量，已收到数据路，已推送数量&lt;/p&gt;
&lt;p&gt;问题：所查询表数据量非常巨大,响应性能必须解决&lt;/p&gt;
&lt;h2 id=&quot;处理方法&quot;&gt;&lt;a href=&quot;#处理方法&quot; class=&quot;headerlink&quot; title=&quot;处理方法&quot;&gt;&lt;/a&gt;处理方法&lt;/h2&gt;&lt;p&gt;因为 couponactivity 券活动表 数据量非常大 已经达到数千万数量，为提高效应效率；采取将相关数据汇总到 物化视图 ，接口通过查询视图来返回相关数据信息 的策略&lt;/p&gt;
&lt;h3 id=&quot;创建物化视图日志&quot;&gt;&lt;a href=&quot;#创建物化视图日志&quot; class=&quot;headerlink&quot; title=&quot;创建物化视图日志&quot;&gt;&lt;/a&gt;创建物化视图日志&lt;/h3&gt;&lt;p&gt;物化视图 日志 是 很容易建 成功的 , 但问题是 日志是能建成功 可物化视图 总会 报出 各种问题;经过反复 处理 报错的问题 查找 相关资料;&lt;br&gt;主要受益于 &lt;a href=&quot;http://blog.itpub.net/20482996/viewspace-1251469/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;浅析为何Oracle物化视图对distinct, group by不支持快速刷新&lt;/a&gt; 、 &lt;a href=&quot;http://www.cnblogs.com/linjiqin/archive/2012/05/23/2514795.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;oracle物化视图日志结构&lt;/a&gt; 和 &lt;a href=&quot;http://www.cnblogs.com/zyizyizyi/archive/2012/04/25/2497824.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Oracle物化视图&lt;/a&gt;、&lt;br&gt;&lt;a href=&quot;http://www.cnblogs.com/juddhu/archive/2012/03/07/2383101.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;oracle中的decode的使用&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;创建物化视图&quot;&gt;&lt;a href=&quot;#创建物化视图&quot; class=&quot;headerlink&quot; title=&quot;创建物化视图&quot;&gt;&lt;/a&gt;创建物化视图&lt;/h3&gt;&lt;p&gt;首先写出 符合 预期结果的 sql 语句,然后 以创建 增量方式快速刷新 的 物化视图为 目标  处理 解决 过程中 遇到的问题&lt;/p&gt;
&lt;h4 id=&quot;最终实现的如下物化视图&quot;&gt;&lt;a href=&quot;#最终实现的如下物化视图&quot; class=&quot;headerlink&quot; title=&quot;最终实现的如下物化视图&quot;&gt;&lt;/a&gt;最终实现的如下物化视图&lt;/h4&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;--创建物化视图日志&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;operator&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;materialized&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;log&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;on&lt;/span&gt; couponactivity &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; primary &lt;span class=&quot;keyword&quot;&gt;key&lt;/span&gt;,&lt;span class=&quot;keyword&quot;&gt;sequence&lt;/span&gt;,&lt;span class=&quot;keyword&quot;&gt;rowid&lt;/span&gt;(projectcode,title,codeqty) &lt;span class=&quot;keyword&quot;&gt;including&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;values&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;operator&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;materialized&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;log&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;on&lt;/span&gt; coupon &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; primary &lt;span class=&quot;keyword&quot;&gt;key&lt;/span&gt;,&lt;span class=&quot;keyword&quot;&gt;sequence&lt;/span&gt;,&lt;span class=&quot;keyword&quot;&gt;rowid&lt;/span&gt;(couponactivityid,o2ostate) &lt;span class=&quot;keyword&quot;&gt;including&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;values&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;--创建物化视图，该物化视图指定了自创建之后开始每10分钟快速增量刷新一次，以保证物化视图的数据和原表统一&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;operator&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;materialized&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;view&lt;/span&gt; MVIEW_couponActivityCountData&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;Build&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;immediate&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;refresh&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;fast&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;demand&lt;/span&gt;  &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;rowid&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;start&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;sysdate&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;next&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;sysdate&lt;/span&gt; + &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;/(&lt;span class=&quot;number&quot;&gt;24&lt;/span&gt;*&lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;substr&lt;/span&gt;(a.projectcode,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;              &lt;span class=&quot;keyword&quot;&gt;decode&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;sign&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;instr&lt;/span&gt;(a.projectcode, &lt;span class=&quot;string&quot;&gt;&#39;,&#39;&lt;/span&gt;, -&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) - &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                     -&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                     &lt;span class=&quot;keyword&quot;&gt;length&lt;/span&gt;(a.projectcode),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                     &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                     &lt;span class=&quot;keyword&quot;&gt;instr&lt;/span&gt;(a.projectcode, &lt;span class=&quot;string&quot;&gt;&#39;,&#39;&lt;/span&gt;, -&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) - &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)) billno,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       a.projectcode projectcode,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       a.title activityname,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       a.active_id activityId,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       a.codeqty codeqty,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;p&lt;/span&gt;.couponactivityid) receiveqty,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               &lt;span class=&quot;keyword&quot;&gt;when&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;p&lt;/span&gt;.o2ostate = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;             &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;) pushedqty，&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       &lt;span class=&quot;keyword&quot;&gt;count&lt;/span&gt;(*)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; coupon &lt;span class=&quot;keyword&quot;&gt;p&lt;/span&gt;, couponactivity a&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;where&lt;/span&gt; a.active_id = &lt;span class=&quot;keyword&quot;&gt;p&lt;/span&gt;.couponactivityid&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   &lt;span class=&quot;keyword&quot;&gt;and&lt;/span&gt; a.projectcode &lt;span class=&quot;keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;by&lt;/span&gt; a.projectcode, a.title, a.active_id, a.codeqty;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;创建物化视图注意点&quot;&gt;&lt;a href=&quot;#创建物化视图注意点&quot; class=&quot;headerlink&quot; title=&quot;创建物化视图注意点&quot;&gt;&lt;/a&gt;创建物化视图注意点&lt;/h3&gt;&lt;p&gt;1.创建适当的物化视图日志，是实现快速增量刷新的物化视图的前提&lt;br&gt;2.查询中需要添加 &lt;strong&gt;count(*)&lt;/strong&gt;  才能实现定时自动刷新&lt;br&gt;下述是试验 sql 语句&lt;/p&gt;
&lt;figure class=&quot;highlight vbnet&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;-----------------------------------------------------------------------------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;--   发现一定要加一个count(*)才能自动刷新,定时刷新&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-----------------------------------------------------------------------------------------------------&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;--create materialized view log &lt;span class=&quot;keyword&quot;&gt;on&lt;/span&gt; coupon &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; primary &lt;span class=&quot;keyword&quot;&gt;key&lt;/span&gt;,sequence,rowid(couponactivityid,o2ostate) including &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; values;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;--  &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; rowid start sysdate &lt;span class=&quot;keyword&quot;&gt;next&lt;/span&gt; sysdate + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;/(&lt;span class=&quot;number&quot;&gt;24&lt;/span&gt;*&lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;--  &lt;span class=&quot;keyword&quot;&gt;next&lt;/span&gt; null&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/*create materialized view MVIEW_couponCountData&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Build immediate refresh fast &lt;span class=&quot;keyword&quot;&gt;on&lt;/span&gt; demand  &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; rowid start &lt;span class=&quot;keyword&quot;&gt;with&lt;/span&gt; sysdate &lt;span class=&quot;keyword&quot;&gt;next&lt;/span&gt; sysdate + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;/(&lt;span class=&quot;number&quot;&gt;24&lt;/span&gt;*&lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;as&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;select&lt;/span&gt; p.couponactivityid activityId,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       count(p.couponactivityid) receiveqty,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       count(&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               &lt;span class=&quot;keyword&quot;&gt;when&lt;/span&gt; p.o2ostate = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;then&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;               &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                null&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;             &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;) pushedqty,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       count(*) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; coupon p&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;by&lt;/span&gt; p.couponactivityid;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;--drop materialized view log &lt;span class=&quot;keyword&quot;&gt;on&lt;/span&gt; coupon;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;--drop materialized view MVIEW_couponCountData;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; mlog$_coupon;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; coupon p &lt;span class=&quot;keyword&quot;&gt;where&lt;/span&gt; p.couponactivityid=&lt;span class=&quot;comment&quot;&gt;&#39;81391&#39;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;/*update coupon p &lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt; p.o2ostate=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;where&lt;/span&gt; p.couponactivityid=&lt;span class=&quot;comment&quot;&gt;&#39;81391&#39;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;commit;*/&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h2 id=&quot;扩展关于-DBLink-跨库查询-相关&quot;&gt;&lt;a href=&quot;#扩展关于-DBLink-跨库查询-相关&quot; class=&quot;headerlink&quot; title=&quot;扩展关于 DBLink 跨库查询 相关&quot;&gt;&lt;/a&gt;扩展关于 DBLink 跨库查询 相关&lt;/h2&gt;&lt;figure class=&quot;highlight haml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;-&lt;span class=&quot;ruby&quot;&gt;-查看 dblink信息&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;-&lt;span class=&quot;ruby&quot;&gt;-select * from &lt;span class=&quot;constant&quot;&gt;ALL_DB_LINKS&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-&lt;span class=&quot;ruby&quot;&gt;-选择一个&lt;span class=&quot;constant&quot;&gt;DBLink&lt;/span&gt;后，要关联这个&lt;span class=&quot;constant&quot;&gt;DBLink&lt;/span&gt;下所有的表名&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;-&lt;span class=&quot;ruby&quot;&gt;-select table_name from user_tables&lt;span class=&quot;variable&quot;&gt;@crmquery&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;总结&quot;&gt;&lt;a href=&quot;#总结&quot; class=&quot;headerlink&quot; title=&quot;总结&quot;&gt;&lt;/a&gt;总结&lt;/h2&gt;&lt;p&gt;主要耗时 是：在 创建了 物化视图日志之后,创建 物化视图时 报 各种问题;查找很多资料解决相关问题,原因就是 创建的 物化视图 不正确,对于这种复杂查询的 sql 查询创建的 物化视图,需要创建 primary key sequence rowid 的物化视图日志,&lt;br&gt;其中 rowid 中的列 由 group by 语句 后面 的 相关字段 有关;另外就是 对于查询结构的要求,对字符串的截取 substr 和 case 语句的 写法（类似 程序的 if else 功能）使用和学习&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;参考资料&quot;&gt;&lt;a href=&quot;#参考资料&quot; class=&quot;headerlink&quot; title=&quot;参考资料&quot;&gt;&lt;/a&gt;参考资料&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/orion61/article/details/6873593&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;oracle物化视图详解&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/linjiqin/archive/2012/05/22/2513551.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Oracle如何根据物化视图日志快速刷新物化视图&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.itpub.net/20482996/viewspace-1251469/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;浅析为何Oracle物化视图对distinct, group by不支持快速刷新&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/linjiqin/archive/2012/05/23/2514795.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;oracle物化视图日志结构&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/zyizyizyi/archive/2012/04/25/2497824.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Oracle物化视图&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/sopost/archive/2009/12/23/2190138.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;物化视图的快速刷新&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/juddhu/archive/2012/03/07/2383101.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;oracle中的decode的使用&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/eshizhan/archive/2012/04/06/2435493.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Oracle CASE WHEN 用法介绍&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/ningvsban/p/3586218.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Oracle中INSTR、SUBSTR和NVL的用法&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/hzgang811856054/article/details/7399809&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;oracle获取字符串长度函数length()和hengthb()&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.2cto.com/database/201409/339237.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;使用OracleDBLink进行数据库之间对象的访问操作&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      Oracle 物化视图
    
    </summary>
    
      <category term="Oracle" scheme="http://aresLove.github.io/categories/Oracle/"/>
    
    
      <category term="Oracle" scheme="http://aresLove.github.io/tags/Oracle/"/>
    
      <category term="物化视图" scheme="http://aresLove.github.io/tags/%E7%89%A9%E5%8C%96%E8%A7%86%E5%9B%BE/"/>
    
  </entry>
  
  <entry>
    <title>Java集合类操作经验总结</title>
    <link href="http://aresLove.github.io/java/Java%E9%9B%86%E5%90%88%E7%B1%BB%E6%93%8D%E4%BD%9C%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/"/>
    <id>http://aresLove.github.io/java/Java集合类操作经验总结/</id>
    <published>2017-02-19T09:34:19.570Z</published>
    <updated>2017-02-19T09:34:19.570Z</updated>
    
    <content type="html">&lt;hr&gt;
&lt;h2 id=&quot;参考资料&quot;&gt;&lt;a href=&quot;#参考资料&quot; class=&quot;headerlink&quot; title=&quot;参考资料&quot;&gt;&lt;/a&gt;参考资料&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://www.ibm.com/developerworks/cn/java/j-lo-set-operation/index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;集合类操作优化经验总结&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/jianxin1009/article/details/22322247&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;不得不知道的Java内存溢出之在经常调用的方法内不要new大对象&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/yahuadai/article/details/7675318&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;注意java代码的内存泄漏&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.blogjava.net/zh-weir/archive/2011/02/23/345007.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java内存泄露的理解与解决&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.importnew.com/12074.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java程序员们最常犯的10个错误&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.douban.com/group/topic/17850733/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;【Java程序优化技巧】大总结&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.lightskystreet.com/2015/09/01/mat_usage/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;MAT - Memory Analyzer Tool 使用进阶&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      java 集合操作
    
    </summary>
    
      <category term="java" scheme="http://aresLove.github.io/categories/java/"/>
    
    
      <category term="java" scheme="http://aresLove.github.io/tags/java/"/>
    
      <category term="java集合" scheme="http://aresLove.github.io/tags/java%E9%9B%86%E5%90%88/"/>
    
      <category term="内存泄露，内存溢出" scheme="http://aresLove.github.io/tags/%E5%86%85%E5%AD%98%E6%B3%84%E9%9C%B2%EF%BC%8C%E5%86%85%E5%AD%98%E6%BA%A2%E5%87%BA/"/>
    
  </entry>
  
  <entry>
    <title>Java经验总结和优化技巧</title>
    <link href="http://aresLove.github.io/java/Java%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93%E5%92%8C%E4%BC%98%E5%8C%96%E6%8A%80%E5%B7%A7/"/>
    <id>http://aresLove.github.io/java/Java经验总结和优化技巧/</id>
    <published>2017-02-19T09:34:19.570Z</published>
    <updated>2017-02-19T09:34:19.570Z</updated>
    
    <content type="html">&lt;hr&gt;
&lt;h2 id=&quot;参考资料&quot;&gt;&lt;a href=&quot;#参考资料&quot; class=&quot;headerlink&quot; title=&quot;参考资料&quot;&gt;&lt;/a&gt;参考资料&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://segmentfault.com/a/1190000002761014&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Google 推出的 Java 编码规范&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.importnew.com/15605.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java习惯用法总结&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.zybuluo.com/king/note/29599&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java学习笔记&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/evankaka&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;林炳文Evankaka的专栏&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.ibm.com/developerworks/cn/java/j-javaresources.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;必备的 Java 参考资源列表&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://segmentfault.com/search?type=article&amp;amp;q=java&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;segmentfault java&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.importnew.com/16181.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;10种简单的Java性能优化&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://codecloud.net/java-problem-6283.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Java问题集锦&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      java 代码优化，经验总结
    
    </summary>
    
      <category term="java" scheme="http://aresLove.github.io/categories/java/"/>
    
    
      <category term="java" scheme="http://aresLove.github.io/tags/java/"/>
    
      <category term="java代码优化" scheme="http://aresLove.github.io/tags/java%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/"/>
    
      <category term="java经验总结" scheme="http://aresLove.github.io/tags/java%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>JS模块化规范</title>
    <link href="http://aresLove.github.io/javascript/JS%E6%A8%A1%E5%9D%97%E5%8C%96%E8%A7%84%E8%8C%83%E7%9A%84%E5%AD%A6%E4%B9%A0/"/>
    <id>http://aresLove.github.io/javascript/JS模块化规范的学习/</id>
    <published>2017-02-19T09:34:19.569Z</published>
    <updated>2017-02-19T09:34:19.569Z</updated>
    
    <content type="html">&lt;h1 id=&quot;JS模块化规范学习笔记&quot;&gt;&lt;a href=&quot;#JS模块化规范学习笔记&quot; class=&quot;headerlink&quot; title=&quot;JS模块化规范学习笔记&quot;&gt;&lt;/a&gt;JS模块化规范学习笔记&lt;/h1&gt;&lt;h2 id=&quot;CommonJS&quot;&gt;&lt;a href=&quot;#CommonJS&quot; class=&quot;headerlink&quot; title=&quot;CommonJS&quot;&gt;&lt;/a&gt;CommonJS&lt;/h2&gt;&lt;p&gt;CommonJS是主要为了JS在后端的表现制定的，Node遵循CommonJS的规范。&lt;/p&gt;
&lt;p&gt;CommonJS定义的模块分为:{模块引用(require)} {模块定义(exports)} {模块标识(module)}&lt;/p&gt;
&lt;p&gt;require()用来引入外部模块；exports对象用于导出当前模块的方法或变量，唯一的导出口；module对象就代表模块本身。&lt;/p&gt;
&lt;p&gt;概述：CommonJS是JS后端模块化规范，该规范定义的模块划分为：{模块标识(module)}（声明）、{模块定义(exports)}（定义）、{模块引用(require)}（使用）&lt;/p&gt;
&lt;h2 id=&quot;AMD&quot;&gt;&lt;a href=&quot;#AMD&quot; class=&quot;headerlink&quot; title=&quot;AMD&quot;&gt;&lt;/a&gt;AMD&lt;/h2&gt;&lt;p&gt;AMD(异步模块定义)是主要为前端JS的表现制定的，RequireJS就是实现了AMD规范。&lt;/p&gt;
&lt;p&gt;异步模块定义规范（AMD）制定了定义模块的规则，这样模块和模块的依赖可以被异步加载。这和浏览器的异步加载模块的环境刚好适应（浏览器同步加载模块会导致性能、可用性、调试和跨域访问等问题）&lt;/p&gt;
&lt;p&gt;只定义了一个函数 “define”，它是全局变量。define(id?, dependencies?, factory); &lt;/p&gt;
&lt;p&gt;AMD的模块名规范是CommonJS模块名规范的超集。AMD可以作为CommonJS模块一个中转的版本只要CommonJS没有被用来同步的require调用。使用同步require调用的CommonJS代码可以被转换为使用回调风格的AMD模块加载器。&lt;/p&gt;
&lt;p&gt;概述：AMD(异步模块定义)是JS前端模块化规范，只定义了一个函数 “define”，并且它是全局变量。&lt;/p&gt;
&lt;h2 id=&quot;CMD&quot;&gt;&lt;a href=&quot;#CMD&quot; class=&quot;headerlink&quot; title=&quot;CMD&quot;&gt;&lt;/a&gt;CMD&lt;/h2&gt;&lt;p&gt;CMD（Common Module Definition）明确了模块的基本书写格式和基本交互规则，与AMD蛮相近的，不过用起来感觉更加方便些，seajs遵循CMD规范。&lt;/p&gt;
&lt;p&gt;Sea.js 是一个成熟的开源项目，核心目标是给前端开发提供简单、极致的模块化开发体验。&lt;/p&gt;
&lt;p&gt;在 CMD 规范中，一个模块就是一个文件，代码的书写格式：define(factory); define 是一个全局函数，用来定义模块。具体了解：&lt;a href=&quot;https://github.com/seajs/seajs/issues/242&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CMD 模块定义规范&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;概述：CMD(通用模块定义)是JS前端模块化规范，明确了模块的基本书写格式和基本交互规则，使用更加方便。&lt;/p&gt;
&lt;h2 id=&quot;SeaJs和RequireJs的异同&quot;&gt;&lt;a href=&quot;#SeaJs和RequireJs的异同&quot; class=&quot;headerlink&quot; title=&quot;SeaJs和RequireJs的异同&quot;&gt;&lt;/a&gt;SeaJs和RequireJs的异同&lt;/h2&gt;&lt;p&gt;共同点：&lt;/p&gt;
&lt;p&gt;RequireJS 和 Sea.js 都是模块加载器，倡导模块化开发理念，核心价值是让 JavaScript 的模块化开发变得简单自然。&lt;/p&gt;
&lt;p&gt;不同点：&lt;/p&gt;
&lt;p&gt;两者的主要区别如下：&lt;/p&gt;
&lt;p&gt;1.定位有差异。RequireJS 想成为浏览器端的模块加载器，同时也想成为 Rhino / Node 等环境的模块加载器。Sea.js 则专注于 Web 浏览器端，同时通过 Node 扩展的方式可以很方便跑在 Node 环境中。&lt;/p&gt;
&lt;p&gt;2.遵循的规范不同。RequireJS 遵循 AMD（异步模块定义）规范，Sea.js 遵循 CMD （通用模块定义）规范。规范的不同，导致了两者 API 不同。Sea.js 更贴近 CommonJS Modules/1.1 和 Node Modules 规范。&lt;/p&gt;
&lt;p&gt;3.推广理念有差异。RequireJS 在尝试让第三方类库修改自身来支持 RequireJS，目前只有少数社区采纳。Sea.js 不强推，采用自主封装的方式来“海纳百川”，目前已有较成熟的封装策略。&lt;/p&gt;
&lt;p&gt;4.对开发调试的支持有差异。Sea.js 非常关注代码的开发调试，有 nocache、debug 等用于调试的插件。RequireJS 无这方面的明显支持。&lt;/p&gt;
&lt;p&gt;5.插件机制不同。RequireJS 采取的是在源码中预留接口的形式，插件类型比较单一。Sea.js 采取的是通用事件机制，插件类型更丰富。&lt;/p&gt;
&lt;p&gt;还有不少差异，涉及具体使用方式和源码实现，欢迎有兴趣者研究并发表看法。&lt;/p&gt;
&lt;p&gt;总之，如果说 RequireJS 是 Prototype 类库的话，则 Sea.js 致力于成为 jQuery 类库。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.zhihu.com/question/20351507&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AMD 和 CMD 的区别&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;执行模块的机制大不一样&lt;/p&gt;
&lt;p&gt;SeaJS对模块的态度是懒执行, 而RequireJS对模块的态度是预执行&lt;/p&gt;
&lt;p&gt;AMD 是 RequireJS 在推广过程中对模块定义的规范化产出。CMD 是 SeaJS 在推广过程中对模块定义的规范化产出。&lt;/p&gt;
&lt;p&gt;对于依赖的模块，AMD 是提前执行，CMD 是延迟执行。不过 RequireJS 从 2.0 开始，也改成可以延迟执行（根据写法不同，处理方式不同）。CMD 推崇 as lazy as possible.2. CMD 推崇依赖就近，AMD 推崇依赖前置&lt;br&gt;AMD 的 API 默认是一个当多个用，CMD 的 API 严格区分，推崇职责单一。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;推荐资料&quot;&gt;&lt;a href=&quot;#推荐资料&quot; class=&quot;headerlink&quot; title=&quot;推荐资料&quot;&gt;&lt;/a&gt;推荐资料&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://www.cnblogs.com/skylar/p/4065455.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;浅析JS中的模块规范（CommonJS，AMD，CMD）&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/amdjs/amdjs-api/wiki/AMD&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AMD 模块定义规范&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://github.com/seajs/seajs/issues/242&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CMD 模块定义规范&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.zhihu.com/question/20351507&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AMD 和 CMD 的区别&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://lifesinger.wordpress.com/2011/05/17/the-difference-between-seajs-and-requirejs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SeaJS 和 RequireJS 的异同&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      javascript，javascript模块化，javascript规范，CommonJS，AMD，CMD，node，RequireJS，SeaJs
    
    </summary>
    
      <category term="javascript" scheme="http://aresLove.github.io/categories/javascript/"/>
    
    
      <category term="javascript，javascript模块化，javascript规范" scheme="http://aresLove.github.io/tags/javascript%EF%BC%8Cjavascript%E6%A8%A1%E5%9D%97%E5%8C%96%EF%BC%8Cjavascript%E8%A7%84%E8%8C%83/"/>
    
  </entry>
  
  <entry>
    <title>java访问本机代码【调用C、C++类库】</title>
    <link href="http://aresLove.github.io/java/JNA%E8%AE%BF%E9%97%AE%E6%9C%AC%E6%9C%BA%E4%BB%A3%E7%A0%81/"/>
    <id>http://aresLove.github.io/java/JNA访问本机代码/</id>
    <published>2017-02-19T09:34:19.569Z</published>
    <updated>2017-02-19T09:34:19.569Z</updated>
    
    <content type="html">&lt;h2 id=&quot;背景介绍&quot;&gt;&lt;a href=&quot;#背景介绍&quot; class=&quot;headerlink&quot; title=&quot;背景介绍&quot;&gt;&lt;/a&gt;背景介绍&lt;/h2&gt;&lt;p&gt;  由于 java 的跨平台和可移植性，没有c、c++好，因此，由c、c++来提供高可移植性和跨平台性的类库供各种平台和语言来调用提供的接口，实现请求转发和调用底层驱动。&lt;br&gt;  编写的dll类库文件主要用于Linux和windows98及windowXp以上平台中方便于Delphi、VB、C#、java等语言编写的界面来调用提供的接口。&lt;/p&gt;
&lt;h2 id=&quot;java调用dll接口产生的问题及处理总结&quot;&gt;&lt;a href=&quot;#java调用dll接口产生的问题及处理总结&quot; class=&quot;headerlink&quot; title=&quot;java调用dll接口产生的问题及处理总结&quot;&gt;&lt;/a&gt;java调用dll接口产生的问题及处理总结&lt;/h2&gt;&lt;h3 id=&quot;调用dll类库导致应用崩溃&quot;&gt;&lt;a href=&quot;#调用dll类库导致应用崩溃&quot; class=&quot;headerlink&quot; title=&quot;调用dll类库导致应用崩溃&quot;&gt;&lt;/a&gt;调用dll类库导致应用崩溃&lt;/h3&gt;&lt;p&gt;   这种问题主要分两种情况，一种是c++类库内部崩溃，另一种是java和C++类库接口传入和转换类库返回的值导致崩溃的&lt;/p&gt;
&lt;h4 id=&quot;c-类库内部崩溃&quot;&gt;&lt;a href=&quot;#c-类库内部崩溃&quot; class=&quot;headerlink&quot; title=&quot;c++类库内部崩溃&quot;&gt;&lt;/a&gt;c++类库内部崩溃&lt;/h4&gt;&lt;p&gt;   这种问题，多因指针和数据内存泄露导致，各种代码情况很多&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;传入参数开辟的空间不足，而 c++ 程序中 使用超出了分配的空间，

比如：

    java 代码中：

    byte[] name = new byte[20];

    调用dll接口

    c++  代码中：

    strncpy((char*) name, response.memberInfo.name.c_str(), 30);


上述这种问题，是我犯过的错误，花费了不少调试时间才找出来原因；由于定义java变量的时候，疏忽了，导致这种问题，
在java调用dll类库运行时就会使得java应用崩溃，实际原因是c++内部崩溃，耗费时间调试查找原因，而且很难想到，因为
strncpy这种简单的操作很容易忽略，认为不会出问题
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&quot;java和c-类库接口传入和传出参数转换不当&quot;&gt;&lt;a href=&quot;#java和c-类库接口传入和传出参数转换不当&quot; class=&quot;headerlink&quot; title=&quot;java和c++类库接口传入和传出参数转换不当&quot;&gt;&lt;/a&gt;java和c++类库接口传入和传出参数转换不当&lt;/h4&gt;&lt;p&gt;   （一）接口参数类型对应&lt;/p&gt;
&lt;p&gt;   1.值类型参数&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;java                                         c、c++          

NativeLong                                    long
short                                         short
int                                           int          
long                                          long long, __int64
float                                         float
double                                        double
boolean                                       int
byte                                          char
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;   2.指针类型参数&lt;/p&gt;
&lt;p&gt;   java 使用 jna.jar 包中的  com.sun.jna.ptr  包中的相关数据类型&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;java                                         c、c++          

ShortByReference                             short*           
IntByReference                                int*            
NativeLongReference/LongByReference          long*            
FloatByReference                             float*           
DoubleByReference                            double*          
ByteByReference                              byte*            
byte[]                                       char*/uchar*/byte*
String                                       char*/uchar*     
PointerByReference                           二维数组（指针的指针）


传入参数： 

java                                        c、c++

Native.toByteArray(String values）           char*/uchar*
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;   （二）取到传出参数值&lt;/p&gt;
&lt;p&gt;   1.值类型参数&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;variable.getValue()
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;   2.指针类型参数&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;java程序中 的  byte[] 类型的变量 获取值 的问题：
    Native.toString(变量)    而    变量.toString()   输出的 结果是 该变量的内存地址 而非 我们所想要的值
使用 变量.toString() 出现的现象：
     取值不完整或取不到，也可能取到内存地址
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;总结&quot;&gt;&lt;a href=&quot;#总结&quot; class=&quot;headerlink&quot; title=&quot;总结&quot;&gt;&lt;/a&gt;总结&lt;/h2&gt;&lt;p&gt;  一般的容易出问题而且出问题最多的就是 java 和 c++ 接口 调用的时候，而且，很多是 由于 java 代码而导致的问题，因此首先和 c++ 提供的接口声明对比，查找 java 相关代码的问题排查&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;参考资料&quot;&gt;&lt;a href=&quot;#参考资料&quot; class=&quot;headerlink&quot; title=&quot;参考资料&quot;&gt;&lt;/a&gt;参考资料&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/shendl/article/details/3589676&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;JNA—JNI终结者&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      java访问本机代码,java调用C、C++类库
    
    </summary>
    
      <category term="java" scheme="http://aresLove.github.io/categories/java/"/>
    
    
      <category term="java" scheme="http://aresLove.github.io/tags/java/"/>
    
      <category term="java访问本机代码" scheme="http://aresLove.github.io/tags/java%E8%AE%BF%E9%97%AE%E6%9C%AC%E6%9C%BA%E4%BB%A3%E7%A0%81/"/>
    
      <category term="java调用C、C++类库" scheme="http://aresLove.github.io/tags/java%E8%B0%83%E7%94%A8C%E3%80%81C-%E7%B1%BB%E5%BA%93/"/>
    
  </entry>
  
</feed>
